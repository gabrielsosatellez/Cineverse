{"ast":null,"code":"var _jsxFileName = \"C:\\\\WareHouse\\\\school\\\\dam_2do\\\\proyecto\\\\Proyecto Final\\\\Cineverse_web\\\\cineverse-web\\\\src\\\\components\\\\common\\\\StarWarsSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { postData, fetchData, movieExists } from \"../../utils/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function StarWarsSection({\n  movies,\n  setMovies\n}) {\n  _s();\n  const [swMovies, setSwMovies] = useState([]);\n  const [loadingSw, setLoadingSw] = useState(false);\n  const localStarWarsPosters = {\n    1: `${process.env.PUBLIC_URL}/starwars/1.jpg`,\n    2: `${process.env.PUBLIC_URL}/starwars/2.jpg`,\n    3: `${process.env.PUBLIC_URL}/starwars/3.jpg`,\n    4: `${process.env.PUBLIC_URL}/starwars/4.jpg`,\n    5: `${process.env.PUBLIC_URL}/starwars/5.jpg`,\n    6: `${process.env.PUBLIC_URL}/starwars/6.jpg`\n  };\n  const handleLoadStarWars = () => {\n    setLoadingSw(true);\n    fetchData(\"http://localhost:8080/api/swapi/movies\").then(data => {\n      console.log(\"SWAPI DATA PARSED:\", data);\n      setSwMovies(Array.isArray(data) ? data : []);\n      setLoadingSw(false);\n    }).catch(err => {\n      console.error(err);\n      setSwMovies([]);\n      setLoadingSw(false);\n    });\n  };\n  const handleImportMovie = movie => {\n    postData(\"http://localhost:8080/api/swapi/import\", movie).then(res => {\n      if (!res.ok) throw new Error(\"La película ya existe\");\n    }).then(() => {\n      alert(\"Película importada a CineVerse\");\n      return fetchData(\"http://localhost:8080/api/movies\");\n    }).then(setMovies).catch(err => alert(err.message));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Campa\\xF1a Star Wars\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"bg-yellow-500 hover:bg-yellow-600 text-black px-4 py-2 rounded mb-4 transition-colors font-semibold\",\n      onClick: handleLoadStarWars,\n      children: \"Cargar pel\\xEDculas de Star Wars\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), loadingSw && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cargando pel\\xEDculas...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: Array.isArray(swMovies) && swMovies.map(movie => {\n        const apiPoster = `https://starwars-visualguide.com/assets/img/films/${movie.episode_id}.jpg`;\n        const localStarWarsPosters = {\n          \"The Phantom Menace\": `${process.env.PUBLIC_URL}/starwars/phantom-menace.jpg`,\n          \"Attack of the Clones\": `${process.env.PUBLIC_URL}/starwars/attack-of-the-clones.jpg`,\n          \"Revenge of the Sith\": `${process.env.PUBLIC_URL}/starwars/revenge-of-the-sith.jpg`,\n          \"A New Hope\": `${process.env.PUBLIC_URL}/starwars/1.webp`,\n          \"The Empire Strikes Back\": `${process.env.PUBLIC_URL}/starwars/2.jpg`,\n          \"Return of the Jedi\": `${process.env.PUBLIC_URL}/starwars/return-of-the-jedi.jpg`\n        };\n        const localPoster = localStarWarsPosters[movie.title] || `${process.env.PUBLIC_URL}/no-poster.png`;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"bg-white p-3 mb-2 rounded shadow flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: apiPoster,\n              alt: movie.title,\n              className: \"w-24 h-36 object-cover rounded-md\",\n              onError: e => {\n                e.currentTarget.onerror = null;\n                e.currentTarget.src = localPoster;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-bold\",\n                children: movie.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Estreno: \", movie.release_date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: movieExists(movie.title, movies),\n            className: `px-3 py-1 rounded text-white transition-colors ${movieExists(movie.title, movies) ? \"bg-gray-400 cursor-not-allowed\" : \"bg-blue-600 hover:bg-blue-700\"}`,\n            onClick: () => handleImportMovie(movie),\n            children: movieExists(movie.title, movies) ? \"Ya importada\" : \"Importar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, movie.title, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(StarWarsSection, \"CfzliYyc050pinip64tNVb47vgs=\");\n_c = StarWarsSection;\nvar _c;\n$RefreshReg$(_c, \"StarWarsSection\");","map":{"version":3,"names":["React","useState","postData","fetchData","movieExists","jsxDEV","_jsxDEV","Fragment","_Fragment","StarWarsSection","movies","setMovies","_s","swMovies","setSwMovies","loadingSw","setLoadingSw","localStarWarsPosters","process","env","PUBLIC_URL","handleLoadStarWars","then","data","console","log","Array","isArray","catch","err","error","handleImportMovie","movie","res","ok","Error","alert","message","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","apiPoster","episode_id","localPoster","title","src","alt","onError","e","currentTarget","onerror","release_date","disabled","_c","$RefreshReg$"],"sources":["C:/WareHouse/school/dam_2do/proyecto/Proyecto Final/Cineverse_web/cineverse-web/src/components/common/StarWarsSection.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { postData, fetchData, movieExists } from \"../../utils/api\";\r\n\r\nexport default function StarWarsSection({ movies, setMovies }) {\r\n  const [swMovies, setSwMovies] = useState([]);\r\n  const [loadingSw, setLoadingSw] = useState(false);\r\n\r\n  const localStarWarsPosters = {\r\n    1: `${process.env.PUBLIC_URL}/starwars/1.jpg`,\r\n    2: `${process.env.PUBLIC_URL}/starwars/2.jpg`,\r\n    3: `${process.env.PUBLIC_URL}/starwars/3.jpg`,\r\n    4: `${process.env.PUBLIC_URL}/starwars/4.jpg`,\r\n    5: `${process.env.PUBLIC_URL}/starwars/5.jpg`,\r\n    6: `${process.env.PUBLIC_URL}/starwars/6.jpg`,\r\n  };\r\n\r\n  const handleLoadStarWars = () => {\r\n    setLoadingSw(true);\r\n    fetchData(\"http://localhost:8080/api/swapi/movies\")\r\n      .then(data => {\r\n        console.log(\"SWAPI DATA PARSED:\", data);\r\n        setSwMovies(Array.isArray(data) ? data : []);\r\n        setLoadingSw(false);\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        setSwMovies([]);\r\n        setLoadingSw(false);\r\n      });\r\n  };\r\n\r\n  const handleImportMovie = (movie) => {\r\n    postData(\"http://localhost:8080/api/swapi/import\", movie)\r\n      .then(res => {\r\n        if (!res.ok) throw new Error(\"La película ya existe\");\r\n      })\r\n      .then(() => {\r\n        alert(\"Película importada a CineVerse\");\r\n        return fetchData(\"http://localhost:8080/api/movies\");\r\n      })\r\n      .then(setMovies)\r\n      .catch(err => alert(err.message));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"text-2xl font-bold mb-4\">Campaña Star Wars</h2>\r\n\r\n      <button\r\n        className=\"bg-yellow-500 hover:bg-yellow-600 text-black px-4 py-2 rounded mb-4 transition-colors font-semibold\"\r\n        onClick={handleLoadStarWars}\r\n      >\r\n        Cargar películas de Star Wars\r\n      </button>\r\n\r\n      {loadingSw && <p>Cargando películas...</p>}\r\n\r\n      <ul>\r\n        {Array.isArray(swMovies) && swMovies.map(movie => {\r\n          const apiPoster = `https://starwars-visualguide.com/assets/img/films/${movie.episode_id}.jpg`;\r\n\r\n          const localStarWarsPosters = {\r\n            \"The Phantom Menace\": `${process.env.PUBLIC_URL}/starwars/phantom-menace.jpg`,\r\n            \"Attack of the Clones\": `${process.env.PUBLIC_URL}/starwars/attack-of-the-clones.jpg`,\r\n            \"Revenge of the Sith\": `${process.env.PUBLIC_URL}/starwars/revenge-of-the-sith.jpg`,\r\n            \"A New Hope\": `${process.env.PUBLIC_URL}/starwars/1.webp`,\r\n            \"The Empire Strikes Back\": `${process.env.PUBLIC_URL}/starwars/2.jpg`,\r\n            \"Return of the Jedi\": `${process.env.PUBLIC_URL}/starwars/return-of-the-jedi.jpg`\r\n          };\r\n\r\n          const localPoster =\r\n          localStarWarsPosters[movie.title] ||\r\n          `${process.env.PUBLIC_URL}/no-poster.png`;\r\n\r\n          return (\r\n            <li\r\n              key={movie.title}\r\n              className=\"bg-white p-3 mb-2 rounded shadow flex justify-between items-center\"\r\n            >\r\n              <div className=\"flex items-center gap-4\">\r\n                <img\r\n  src={apiPoster}\r\n  alt={movie.title}\r\n  className=\"w-24 h-36 object-cover rounded-md\"\r\n  onError={(e) => {\r\n    e.currentTarget.onerror = null;\r\n    e.currentTarget.src = localPoster;\r\n  }}\r\n/>\r\n                <div>\r\n                  <p className=\"font-bold\">{movie.title}</p>\r\n                  <p className=\"text-sm text-gray-600\">\r\n                    Estreno: {movie.release_date}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                disabled={movieExists(movie.title, movies)}\r\n                className={`px-3 py-1 rounded text-white transition-colors ${movieExists(movie.title, movies)\r\n                    ? \"bg-gray-400 cursor-not-allowed\"\r\n                    : \"bg-blue-600 hover:bg-blue-700\"\r\n                  }`}\r\n                onClick={() => handleImportMovie(movie)}\r\n              >\r\n                {movieExists(movie.title, movies) ? \"Ya importada\" : \"Importar\"}\r\n              </button>\r\n            </li>\r\n          );\r\n        })}\r\n\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}