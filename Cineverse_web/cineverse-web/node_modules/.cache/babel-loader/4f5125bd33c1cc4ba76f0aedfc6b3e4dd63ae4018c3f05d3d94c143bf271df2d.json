{"ast":null,"code":"import SockJS from \"sockjs-client\";\nimport { Client } from \"@stomp/stompjs\";\nlet client = null;\nexport function connectChat(onMessage) {\n  client = new Client({\n    webSocketFactory: () => new SockJS(\"http://localhost:8080/ws-chat\"),\n    onConnect: () => {\n      client.subscribe(\"/topic/messages\", msg => {\n        onMessage(JSON.parse(msg.body));\n      });\n    }\n  });\n  client.activate();\n}\nexport function sendMessage(sender, content) {\n  if (client) {\n    client.publish({\n      destination: \"/app/chat.send\",\n      body: JSON.stringify({\n        sender,\n        content\n      })\n    });\n  }\n}","map":{"version":3,"names":["SockJS","Client","client","connectChat","onMessage","webSocketFactory","onConnect","subscribe","msg","JSON","parse","body","activate","sendMessage","sender","content","publish","destination","stringify"],"sources":["C:/WareHouse/school/dam_2do/proyecto/Proyecto Final/Cineverse_web/cineverse-web/src/components/chat/ChatService.js"],"sourcesContent":["import SockJS from \"sockjs-client\";\r\nimport { Client } from \"@stomp/stompjs\";\r\n\r\nlet client = null;\r\n\r\nexport function connectChat(onMessage) {\r\n  client = new Client({\r\n    webSocketFactory: () => new SockJS(\"http://localhost:8080/ws-chat\"),\r\n    onConnect: () => {\r\n      client.subscribe(\"/topic/messages\", msg => {\r\n        onMessage(JSON.parse(msg.body));\r\n      });\r\n    }\r\n  });\r\n\r\n  client.activate();\r\n}\r\n\r\nexport function sendMessage(sender, content) {\r\n  if (client) {\r\n    client.publish({\r\n      destination: \"/app/chat.send\",\r\n      body: JSON.stringify({ sender, content })\r\n    });\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,eAAe;AAClC,SAASC,MAAM,QAAQ,gBAAgB;AAEvC,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,SAASC,WAAWA,CAACC,SAAS,EAAE;EACrCF,MAAM,GAAG,IAAID,MAAM,CAAC;IAClBI,gBAAgB,EAAEA,CAAA,KAAM,IAAIL,MAAM,CAAC,+BAA+B,CAAC;IACnEM,SAAS,EAAEA,CAAA,KAAM;MACfJ,MAAM,CAACK,SAAS,CAAC,iBAAiB,EAAEC,GAAG,IAAI;QACzCJ,SAAS,CAACK,IAAI,CAACC,KAAK,CAACF,GAAG,CAACG,IAAI,CAAC,CAAC;MACjC,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EAEFT,MAAM,CAACU,QAAQ,CAAC,CAAC;AACnB;AAEA,OAAO,SAASC,WAAWA,CAACC,MAAM,EAAEC,OAAO,EAAE;EAC3C,IAAIb,MAAM,EAAE;IACVA,MAAM,CAACc,OAAO,CAAC;MACbC,WAAW,EAAE,gBAAgB;MAC7BN,IAAI,EAAEF,IAAI,CAACS,SAAS,CAAC;QAAEJ,MAAM;QAAEC;MAAQ,CAAC;IAC1C,CAAC,CAAC;EACJ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}