{"ast":null,"code":"import{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){// ===== AUTH =====\nconst[currentUser,setCurrentUser]=useState(null);const[isRegister,setIsRegister]=useState(false);const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");// ===== UI =====\nconst[sidebarOpen,setSidebarOpen]=useState(false);const[section,setSection]=useState(\"MOVIES\");// ===== DATA =====\nconst[movies,setMovies]=useState([]);const[rooms,setRooms]=useState([]);const[sessions,setSessions]=useState([]);// ===== SESSION FORM =====\nconst[movieId,setMovieId]=useState(\"\");const[roomId,setRoomId]=useState(\"\");const[dateTime,setDateTime]=useState(\"\");// ===== MOVIE FORM =====\nconst[newMovieTitle,setNewMovieTitle]=useState(\"\");const[newMovieDescription,setNewMovieDescription]=useState(\"\");const[newMovieDuration,setNewMovieDuration]=useState(\"\");const[newMovieImageUrl,setNewMovieImageUrl]=useState(\"\");// ===== ROOM FORM =====\nconst[newRoomName,setNewRoomName]=useState(\"\");const[newRoomSeats,setNewRoomSeats]=useState(\"\");// ===== TICKETS =====\nconst[selectedSession,setSelectedSession]=useState(null);const[takenSeats,setTakenSeats]=useState([]);// ===== STAR WARS =====\nconst[swMovies,setSwMovies]=useState([]);const[loadingSw,setLoadingSw]=useState(false);const movieExists=title=>{return movies.some(m=>m.title.toLowerCase()===title.toLowerCase());};// ===== HELPERS =====\nconst formatDateTime=dateTimeString=>{const date=new Date(dateTimeString);return date.toLocaleString(\"es-ES\",{day:\"2-digit\",month:\"2-digit\",year:\"numeric\",hour:\"2-digit\",minute:\"2-digit\"});};// ===== LOGIN =====\nconst login=e=>{e.preventDefault();fetch(\"http://localhost:8080/api/users/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,password})}).then(res=>{if(!res.ok)throw new Error();return res.json();}).then(user=>{setCurrentUser(user);setError(\"\");}).catch(()=>setError(\"Credenciales incorrectas\"));};// ===== REGISTER =====\nconst register=e=>{e.preventDefault();fetch(\"http://localhost:8080/api/users/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username,password})}).then(()=>{setIsRegister(false);setError(\"Usuario creado, ahora inicia sesión\");});};// ===== LOGOUT =====\nconst logout=()=>{setCurrentUser(null);setSidebarOpen(false);setUsername(\"\");setPassword(\"\");};// ===== LOAD DATA =====\nuseEffect(()=>{if(currentUser){fetch(\"http://localhost:8080/api/movies\").then(r=>r.json()).then(setMovies);fetch(\"http://localhost:8080/api/rooms\").then(r=>r.json()).then(setRooms);fetch(\"http://localhost:8080/api/sessions\").then(r=>r.json()).then(setSessions);}},[currentUser]);// ===== CREATE SESSION =====\nconst createSession=e=>{e.preventDefault();fetch(\"http://localhost:8080/api/sessions?movieId=\".concat(movieId,\"&roomId=\").concat(roomId,\"&dateTime=\").concat(dateTime),{method:\"POST\"}).then(()=>{setMovieId(\"\");setRoomId(\"\");setDateTime(\"\");fetch(\"http://localhost:8080/api/sessions\").then(r=>r.json()).then(setSessions);});};// ===== LOGIN UI =====\nif(!currentUser){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-100\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:isRegister?register:login,className:\"bg-white p-6 rounded shadow w-80\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:isRegister?\"Registro\":\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 mb-2\",children:error}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full mb-2\",placeholder:\"Usuario\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full mb-4\",type:\"password\",placeholder:\"Contrase\\xF1a\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white w-full p-2 rounded mb-2\",children:isRegister?\"Crear cuenta\":\"Entrar\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-center text-blue-600 cursor-pointer\",onClick:()=>{setIsRegister(!isRegister);setError(\"\");},children:isRegister?\"¿Ya tienes cuenta?\":\"¿No tienes cuenta?\"})]})});}// ===== APP =====\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"bg-gray-900 text-white p-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),children:\"\\u2630\"}),/*#__PURE__*/_jsxs(\"span\",{children:[currentUser.username,\" (\",currentUser.role,\")\"]})]}),sidebarOpen&&/*#__PURE__*/_jsxs(\"aside\",{className:\"fixed top-0 left-0 h-full w-64 bg-gray-800 text-white p-4 z-50\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-6\",children:\"CineVerse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 hover:bg-gray-700 cursor-pointer\",onClick:()=>{setSection(\"MOVIES\");setSidebarOpen(false);},children:\"Pel\\xEDculas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 hover:bg-gray-700 cursor-pointer\",onClick:()=>{setSection(\"ROOMS\");setSidebarOpen(false);},children:\"Salas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 hover:bg-gray-700 cursor-pointer\",onClick:()=>{setSection(\"SESSIONS\");setSidebarOpen(false);},children:\"Sesiones\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 hover:bg-gray-700 cursor-pointer\",onClick:()=>{setSection(\"TICKETS\");setSidebarOpen(false);},children:\"Entradas\"}),currentUser.role===\"ADMIN\"&&/*#__PURE__*/_jsx(\"div\",{className:\"p-2 hover:bg-gray-700 cursor-pointer\",onClick:()=>{setSection(\"STARWARS\");setSidebarOpen(false);},children:\"Star Wars\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-red-600 mt-6 cursor-pointer\",onClick:logout,children:\"Cerrar sesi\\xF3n\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"p-6\",children:[section===\"MOVIES\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Pel\\xEDculas\"}),currentUser.role===\"ADMIN\"&&/*#__PURE__*/_jsxs(\"form\",{className:\"bg-white p-4 rounded shadow mb-6\",onSubmit:e=>{e.preventDefault();fetch(\"http://localhost:8080/api/movies\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:newMovieTitle,description:newMovieDescription,duration:newMovieDuration,imageUrl:newMovieImageUrl})}).then(res=>{if(!res.ok){return res.text().then(msg=>{throw new Error(\"La película ya existe\");});}}).then(()=>{alert(\"Película añadida correctamente\");setNewMovieTitle(\"\");setNewMovieDescription(\"\");setNewMovieDuration(\"\");setNewMovieImageUrl(\"\");fetch(\"http://localhost:8080/api/movies\").then(r=>r.json()).then(setMovies);}).catch(err=>{alert(err.message);});},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold mb-2\",children:\"A\\xF1adir pel\\xEDcula\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full mb-2\",placeholder:\"T\\xEDtulo\",value:newMovieTitle,onChange:e=>setNewMovieTitle(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full mb-2\",type:\"number\",placeholder:\"Duraci\\xF3n\",value:newMovieDuration,onChange:e=>setNewMovieDuration(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full mb-2\",placeholder:\"URL imagen\",value:newMovieImageUrl,onChange:e=>setNewMovieImageUrl(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{className:\"border p-2 w-full mb-2\",placeholder:\"Descripci\\xF3n\",value:newMovieDescription,onChange:e=>setNewMovieDescription(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-4 py-2 rounded\",children:\"A\\xF1adir pel\\xEDcula\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:movies.map(movie=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded shadow overflow-hidden\",children:[movie.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:movie.imageUrl,alt:movie.title,className:\"w-full h-48 object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:movie.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[movie.duration,\" min\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:movie.description}),currentUser.role===\"ADMIN\"&&/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-3 py-1 rounded mt-3\",onClick:()=>{if(!window.confirm(\"¿Eliminar esta película?\"))return;fetch(\"http://localhost:8080/api/movies/\".concat(movie.id),{method:\"DELETE\"}).then(()=>setMovies(movies.filter(m=>m.id!==movie.id)));},children:\"Eliminar\"})]})]},movie.id))})]}),section===\"ROOMS\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Salas\"}),currentUser.role===\"ADMIN\"&&/*#__PURE__*/_jsxs(\"form\",{className:\"bg-white p-4 rounded shadow mb-6\",onSubmit:e=>{e.preventDefault();fetch(\"http://localhost:8080/api/rooms\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:newRoomName,totalSeats:newRoomSeats})}).then(()=>{setNewRoomName(\"\");setNewRoomSeats(\"\");fetch(\"http://localhost:8080/api/rooms\").then(r=>r.json()).then(setRooms);});},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold mb-2\",children:\"Crear sala\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full mb-2\",placeholder:\"Nombre\",value:newRoomName,onChange:e=>setNewRoomName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full mb-2\",type:\"number\",placeholder:\"Asientos\",value:newRoomSeats,onChange:e=>setNewRoomSeats(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-4 py-2 rounded\",children:\"Crear sala\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:rooms.map(room=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-white p-3 mb-2 rounded shadow flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[room.name,\" \\u2014 \",room.totalSeats,\" asientos\"]}),currentUser.role===\"ADMIN\"&&/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-3 py-1 rounded\",onClick:()=>{if(!window.confirm(\"¿Eliminar sala?\"))return;fetch(\"http://localhost:8080/api/rooms/\".concat(room.id),{method:\"DELETE\"}).then(()=>{setRooms(rooms.filter(r=>r.id!==room.id));fetch(\"http://localhost:8080/api/sessions\").then(r=>r.json()).then(setSessions);});},children:\"Eliminar\"})]},room.id))})]}),section===\"SESSIONS\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Sesiones\"}),currentUser.role===\"ADMIN\"&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:createSession,className:\"bg-white p-4 rounded shadow mb-6\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"border p-2 w-full mb-2\",value:movieId,onChange:e=>setMovieId(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Pel\\xEDcula\"}),movies.map(m=>/*#__PURE__*/_jsx(\"option\",{value:m.id,children:m.title},m.id))]}),/*#__PURE__*/_jsxs(\"select\",{className:\"border p-2 w-full mb-2\",value:roomId,onChange:e=>setRoomId(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Sala\"}),rooms.map(r=>/*#__PURE__*/_jsx(\"option\",{value:r.id,children:r.name},r.id))]}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full mb-2\",type:\"datetime-local\",value:dateTime,onChange:e=>setDateTime(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-4 py-2 rounded\",children:\"Crear sesi\\xF3n\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:sessions.map(s=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-white p-3 mb-2 rounded shadow flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[s.movie.title,\" \\u2014 \",s.room.name,\" \\u2014 \",formatDateTime(s.dateTime)]}),currentUser.role===\"ADMIN\"&&/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-3 py-1 rounded\",onClick:()=>{if(!window.confirm(\"¿Eliminar sesión?\"))return;fetch(\"http://localhost:8080/api/sessions/\".concat(s.id),{method:\"DELETE\"}).then(()=>setSessions(sessions.filter(x=>x.id!==s.id)));},children:\"Eliminar\"})]},s.id))})]}),section===\"TICKETS\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Comprar entrada\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"border p-2 mb-4\",value:(selectedSession===null||selectedSession===void 0?void 0:selectedSession.id)||\"\",onChange:e=>{const session=sessions.find(s=>s.id===Number(e.target.value));setSelectedSession(session);fetch(\"http://localhost:8080/api/tickets/session/\".concat(session.id)).then(r=>r.json()).then(data=>setTakenSeats(data.map(t=>t.seatNumber)));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona sesi\\xF3n\"}),sessions.map(s=>/*#__PURE__*/_jsxs(\"option\",{value:s.id,children:[s.movie.title,\" - \",formatDateTime(s.dateTime)]},s.id))]}),selectedSession&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-10 gap-2 max-w-md\",children:Array.from({length:selectedSession.room.totalSeats},(_,i)=>i+1).map(seat=>/*#__PURE__*/_jsx(\"button\",{disabled:takenSeats.includes(seat),className:\"p-2 rounded text-white \".concat(takenSeats.includes(seat)?\"bg-red-500 cursor-not-allowed\":\"bg-green-600\"),onClick:()=>{fetch(\"http://localhost:8080/api/tickets?sessionId=\".concat(selectedSession.id,\"&seatNumber=\").concat(seat,\"&username=\").concat(currentUser.username),{method:\"POST\"}).then(()=>{alert(\"Entrada comprada\");setTakenSeats([...takenSeats,seat]);});},children:seat},seat))})]}),section===\"STARWARS\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Campa\\xF1a Star Wars\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-yellow-500 text-black px-4 py-2 rounded mb-4\",onClick:()=>{setLoadingSw(true);fetch(\"http://localhost:8080/api/swapi/movies\").then(r=>r.json()).then(data=>{console.log(\"SWAPI DATA PARSED:\",data);setSwMovies(Array.isArray(data)?data:[]);setLoadingSw(false);}).catch(err=>{console.error(err);setSwMovies([]);setLoadingSw(false);});},children:\"Cargar pel\\xEDculas de Star Wars\"}),loadingSw&&/*#__PURE__*/_jsx(\"p\",{children:\"Cargando pel\\xEDculas...\"}),/*#__PURE__*/_jsx(\"ul\",{children:Array.isArray(swMovies)&&swMovies.map(movie=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-white p-3 mb-2 rounded shadow flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://starwars-visualguide.com/assets/img/films/\".concat(movie.episode_id,\".jpg\"),alt:movie.title,className:\"w-20 h-28 object-cover rounded\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:movie.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Estreno: \",movie.release_date]})]})]}),/*#__PURE__*/_jsx(\"button\",{disabled:movieExists(movie.title),className:\"px-3 py-1 rounded text-white \".concat(movieExists(movie.title)?\"bg-gray-400 cursor-not-allowed\":\"bg-blue-600 hover:bg-blue-700\"),onClick:()=>{fetch(\"http://localhost:8080/api/swapi/import\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(movie)}).then(res=>{if(!res.ok)throw new Error(\"La película ya existe\");}).then(()=>{alert(\"Película importada a CineVerse\");fetch(\"http://localhost:8080/api/movies\").then(r=>r.json()).then(setMovies);}).catch(err=>alert(err.message));},children:movieExists(movie.title)?\"Ya importada\":\"Importar\"})]},movie.title))})]})]})]});}export default App;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","currentUser","setCurrentUser","isRegister","setIsRegister","username","setUsername","password","setPassword","error","setError","sidebarOpen","setSidebarOpen","section","setSection","movies","setMovies","rooms","setRooms","sessions","setSessions","movieId","setMovieId","roomId","setRoomId","dateTime","setDateTime","newMovieTitle","setNewMovieTitle","newMovieDescription","setNewMovieDescription","newMovieDuration","setNewMovieDuration","newMovieImageUrl","setNewMovieImageUrl","newRoomName","setNewRoomName","newRoomSeats","setNewRoomSeats","selectedSession","setSelectedSession","takenSeats","setTakenSeats","swMovies","setSwMovies","loadingSw","setLoadingSw","movieExists","title","some","m","toLowerCase","formatDateTime","dateTimeString","date","Date","toLocaleString","day","month","year","hour","minute","login","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","json","user","catch","register","logout","r","createSession","concat","className","children","onSubmit","placeholder","value","onChange","target","type","onClick","role","description","duration","imageUrl","text","msg","alert","err","message","map","movie","src","alt","window","confirm","id","filter","name","totalSeats","room","required","s","x","session","find","Number","data","t","seatNumber","Array","from","length","_","i","seat","disabled","includes","console","log","isArray","episode_id","release_date"],"sources":["C:/WareHouse/dam_2do/proyecto/Proyecto Final/Cineverse_web/cineverse-web/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nfunction App() {\n  // ===== AUTH =====\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isRegister, setIsRegister] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  // ===== UI =====\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [section, setSection] = useState(\"MOVIES\");\n\n  // ===== DATA =====\n  const [movies, setMovies] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [sessions, setSessions] = useState([]);\n\n  // ===== SESSION FORM =====\n  const [movieId, setMovieId] = useState(\"\");\n  const [roomId, setRoomId] = useState(\"\");\n  const [dateTime, setDateTime] = useState(\"\");\n\n  // ===== MOVIE FORM =====\n  const [newMovieTitle, setNewMovieTitle] = useState(\"\");\n  const [newMovieDescription, setNewMovieDescription] = useState(\"\");\n  const [newMovieDuration, setNewMovieDuration] = useState(\"\");\n  const [newMovieImageUrl, setNewMovieImageUrl] = useState(\"\");\n\n  // ===== ROOM FORM =====\n  const [newRoomName, setNewRoomName] = useState(\"\");\n  const [newRoomSeats, setNewRoomSeats] = useState(\"\");\n\n  // ===== TICKETS =====\n  const [selectedSession, setSelectedSession] = useState(null);\n  const [takenSeats, setTakenSeats] = useState([]);\n\n// ===== STAR WARS =====\nconst [swMovies, setSwMovies] = useState([]);\nconst [loadingSw, setLoadingSw] = useState(false);\n\nconst movieExists = (title) => {\n  return movies.some(m => m.title.toLowerCase() === title.toLowerCase());\n};\n\n  // ===== HELPERS =====\n  const formatDateTime = (dateTimeString) => {\n    const date = new Date(dateTimeString);\n    return date.toLocaleString(\"es-ES\", {\n      day: \"2-digit\",\n      month: \"2-digit\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n  };\n\n  // ===== LOGIN =====\n  const login = (e) => {\n    e.preventDefault();\n    fetch(\"http://localhost:8080/api/users/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ username, password })\n    })\n      .then(res => {\n        if (!res.ok) throw new Error();\n        return res.json();\n      })\n      .then(user => {\n        setCurrentUser(user);\n        setError(\"\");\n      })\n      .catch(() => setError(\"Credenciales incorrectas\"));\n  };\n\n  // ===== REGISTER =====\n  const register = (e) => {\n    e.preventDefault();\n    fetch(\"http://localhost:8080/api/users/register\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ username, password })\n    }).then(() => {\n      setIsRegister(false);\n      setError(\"Usuario creado, ahora inicia sesión\");\n    });\n  };\n\n  // ===== LOGOUT =====\n  const logout = () => {\n    setCurrentUser(null);\n    setSidebarOpen(false);\n    setUsername(\"\");\n    setPassword(\"\");\n  };\n\n  // ===== LOAD DATA =====\n  useEffect(() => {\n    if (currentUser) {\n      fetch(\"http://localhost:8080/api/movies\").then(r => r.json()).then(setMovies);\n      fetch(\"http://localhost:8080/api/rooms\").then(r => r.json()).then(setRooms);\n      fetch(\"http://localhost:8080/api/sessions\").then(r => r.json()).then(setSessions);\n    }\n  }, [currentUser]);\n\n  // ===== CREATE SESSION =====\n  const createSession = (e) => {\n    e.preventDefault();\n    fetch(\n      `http://localhost:8080/api/sessions?movieId=${movieId}&roomId=${roomId}&dateTime=${dateTime}`,\n      { method: \"POST\" }\n    ).then(() => {\n      setMovieId(\"\");\n      setRoomId(\"\");\n      setDateTime(\"\");\n      fetch(\"http://localhost:8080/api/sessions\")\n        .then(r => r.json())\n        .then(setSessions);\n    });\n  };\n\n  // ===== LOGIN UI =====\n  if (!currentUser) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n        <form onSubmit={isRegister ? register : login}\n          className=\"bg-white p-6 rounded shadow w-80\">\n          <h2 className=\"text-xl font-bold mb-4\">\n            {isRegister ? \"Registro\" : \"Login\"}\n          </h2>\n          {error && <p className=\"text-red-500 mb-2\">{error}</p>}\n          <input className=\"border p-2 w-full mb-2\"\n            placeholder=\"Usuario\"\n            value={username}\n            onChange={e => setUsername(e.target.value)} />\n          <input className=\"border p-2 w-full mb-4\"\n            type=\"password\"\n            placeholder=\"Contraseña\"\n            value={password}\n            onChange={e => setPassword(e.target.value)} />\n          <button className=\"bg-blue-600 text-white w-full p-2 rounded mb-2\">\n            {isRegister ? \"Crear cuenta\" : \"Entrar\"}\n          </button>\n          <p className=\"text-sm text-center text-blue-600 cursor-pointer\"\n            onClick={() => { setIsRegister(!isRegister); setError(\"\"); }}>\n            {isRegister ? \"¿Ya tienes cuenta?\" : \"¿No tienes cuenta?\"}\n          </p>\n        </form>\n      </div>\n    );\n  }\n\n  // ===== APP =====\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <header className=\"bg-gray-900 text-white p-4 flex justify-between items-center\">\n        <button onClick={() => setSidebarOpen(!sidebarOpen)}>☰</button>\n        <span>{currentUser.username} ({currentUser.role})</span>\n      </header>\n\n      {sidebarOpen && (\n        <aside className=\"fixed top-0 left-0 h-full w-64 bg-gray-800 text-white p-4 z-50\">\n          <h2 className=\"text-xl font-bold mb-6\">CineVerse</h2>\n\n          <div className=\"p-2 hover:bg-gray-700 cursor-pointer\"\n            onClick={() => { setSection(\"MOVIES\"); setSidebarOpen(false); }}>\n            Películas\n          </div>\n\n          <div className=\"p-2 hover:bg-gray-700 cursor-pointer\"\n            onClick={() => { setSection(\"ROOMS\"); setSidebarOpen(false); }}>\n            Salas\n          </div>\n\n          <div className=\"p-2 hover:bg-gray-700 cursor-pointer\"\n            onClick={() => { setSection(\"SESSIONS\"); setSidebarOpen(false); }}>\n            Sesiones\n          </div>\n\n          <div className=\"p-2 hover:bg-gray-700 cursor-pointer\"\n            onClick={() => { setSection(\"TICKETS\"); setSidebarOpen(false); }}>\n            Entradas\n          </div>\n\n\t{currentUser.role === \"ADMIN\" && (\n  <div\n    className=\"p-2 hover:bg-gray-700 cursor-pointer\"\n    onClick={() => { setSection(\"STARWARS\"); setSidebarOpen(false); }}\n  >\n    Star Wars\n  </div>\n)}\n\n\n          <div className=\"p-2 bg-red-600 mt-6 cursor-pointer\"\n            onClick={logout}>\n            Cerrar sesión\n          </div>\n\n        </aside>\n      )}\n\n      <main className=\"p-6\">\n\n        {/* ===== MOVIES ===== */}\n        {section === \"MOVIES\" && (\n          <>\n            <h2 className=\"text-2xl font-bold mb-4\">Películas</h2>\n\n            {currentUser.role === \"ADMIN\" && (\n              <form className=\"bg-white p-4 rounded shadow mb-6\"\n                onSubmit={e => {\n                  e.preventDefault();\n                  fetch(\"http://localhost:8080/api/movies\", {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: JSON.stringify({\n                      title: newMovieTitle,\n                      description: newMovieDescription,\n                      duration: newMovieDuration,\n                      imageUrl: newMovieImageUrl\n                    })\n                  }).then(res => {\n  if (!res.ok) {\n    return res.text().then(msg => {\n      throw new Error(\"La película ya existe\");\n    });\n  }\n})\n.then(() => {\n  alert(\"Película añadida correctamente\");\n  setNewMovieTitle(\"\");\n  setNewMovieDescription(\"\");\n  setNewMovieDuration(\"\");\n  setNewMovieImageUrl(\"\");\n  fetch(\"http://localhost:8080/api/movies\")\n    .then(r => r.json())\n    .then(setMovies);\n})\n.catch(err => {\n  alert(err.message);\n});\n                }}>\n                <h3 className=\"font-bold mb-2\">Añadir película</h3>\n                <input className=\"border p-2 w-full mb-2\" placeholder=\"Título\"\n                  value={newMovieTitle} onChange={e => setNewMovieTitle(e.target.value)} />\n                <input className=\"border p-2 w-full mb-2\" type=\"number\"\n                  placeholder=\"Duración\"\n                  value={newMovieDuration} onChange={e => setNewMovieDuration(e.target.value)} />\n                <input className=\"border p-2 w-full mb-2\" placeholder=\"URL imagen\"\n                  value={newMovieImageUrl} onChange={e => setNewMovieImageUrl(e.target.value)} />\n                <textarea className=\"border p-2 w-full mb-2\" placeholder=\"Descripción\"\n                  value={newMovieDescription}\n                  onChange={e => setNewMovieDescription(e.target.value)} />\n                <button className=\"bg-blue-600 text-white px-4 py-2 rounded\">\n                  Añadir película\n                </button>\n              </form>\n            )}\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              {movies.map(movie => (\n                <div key={movie.id} className=\"bg-white rounded shadow overflow-hidden\">\n                  {movie.imageUrl && (\n                    <img src={movie.imageUrl} alt={movie.title}\n                      className=\"w-full h-48 object-cover\" />\n                  )}\n                  <div className=\"p-4\">\n                    <h3 className=\"text-xl font-bold\">{movie.title}</h3>\n                    <p className=\"text-sm text-gray-600\">{movie.duration} min</p>\n                    <p className=\"mt-2\">{movie.description}</p>\n\n                    {currentUser.role === \"ADMIN\" && (\n                      <button\n                        className=\"bg-red-500 text-white px-3 py-1 rounded mt-3\"\n                        onClick={() => {\n                          if (!window.confirm(\"¿Eliminar esta película?\")) return;\n                          fetch(`http://localhost:8080/api/movies/${movie.id}`, {\n                            method: \"DELETE\"\n                          }).then(() =>\n                            setMovies(movies.filter(m => m.id !== movie.id))\n                          );\n                        }}\n                      >\n                        Eliminar\n                      </button>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n\n        {/* ===== ROOMS ===== */}\n        {section === \"ROOMS\" && (\n          <>\n            <h2 className=\"text-2xl font-bold mb-4\">Salas</h2>\n\n            {currentUser.role === \"ADMIN\" && (\n              <form className=\"bg-white p-4 rounded shadow mb-6\"\n                onSubmit={e => {\n                  e.preventDefault();\n                  fetch(\"http://localhost:8080/api/rooms\", {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: JSON.stringify({\n                      name: newRoomName,\n                      totalSeats: newRoomSeats\n                    })\n                  }).then(() => {\n                    setNewRoomName(\"\");\n                    setNewRoomSeats(\"\");\n                    fetch(\"http://localhost:8080/api/rooms\")\n                      .then(r => r.json())\n                      .then(setRooms);\n                  });\n                }}>\n                <h3 className=\"font-bold mb-2\">Crear sala</h3>\n                <input className=\"border p-2 w-full mb-2\"\n                  placeholder=\"Nombre\"\n                  value={newRoomName}\n                  onChange={e => setNewRoomName(e.target.value)} />\n                <input className=\"border p-2 w-full mb-2\"\n                  type=\"number\"\n                  placeholder=\"Asientos\"\n                  value={newRoomSeats}\n                  onChange={e => setNewRoomSeats(e.target.value)} />\n                <button className=\"bg-blue-600 text-white px-4 py-2 rounded\">\n                  Crear sala\n                </button>\n              </form>\n            )}\n\n            <ul>\n              {rooms.map(room => (\n                <li key={room.id}\n                  className=\"bg-white p-3 mb-2 rounded shadow flex justify-between\">\n                  <span>{room.name} — {room.totalSeats} asientos</span>\n\n                  {currentUser.role === \"ADMIN\" && (\n                    <button\n                      className=\"bg-red-500 text-white px-3 py-1 rounded\"\n                      onClick={() => {\n                        if (!window.confirm(\"¿Eliminar sala?\")) return;\n                        fetch(`http://localhost:8080/api/rooms/${room.id}`, {\n                          method: \"DELETE\"\n                        }).then(() => {\n   setRooms(rooms.filter(r => r.id !== room.id));\n  fetch(\"http://localhost:8080/api/sessions\")\n    .then(r => r.json())\n    .then(setSessions);\n});\n                      }}\n                    >\n                      Eliminar\n                    </button>\n                  )}\n                </li>\n              ))}\n            </ul>\n          </>\n        )}\n\n        {/* ===== SESSIONS ===== */}\n        {section === \"SESSIONS\" && (\n          <>\n            <h2 className=\"text-2xl font-bold mb-4\">Sesiones</h2>\n\n            {currentUser.role === \"ADMIN\" && (\n              <form onSubmit={createSession} className=\"bg-white p-4 rounded shadow mb-6\">\n                <select className=\"border p-2 w-full mb-2\"\n                  value={movieId} onChange={e => setMovieId(e.target.value)} required>\n                  <option value=\"\">Película</option>\n                  {movies.map(m => (\n                    <option key={m.id} value={m.id}>{m.title}</option>\n                  ))}\n                </select>\n\n                <select className=\"border p-2 w-full mb-2\"\n                  value={roomId} onChange={e => setRoomId(e.target.value)} required>\n                  <option value=\"\">Sala</option>\n                  {rooms.map(r => (\n                    <option key={r.id} value={r.id}>{r.name}</option>\n                  ))}\n                </select>\n\n                <input className=\"border p-2 w-full mb-2\" type=\"datetime-local\"\n                  value={dateTime} onChange={e => setDateTime(e.target.value)} required />\n\n                <button className=\"bg-blue-600 text-white px-4 py-2 rounded\">\n                  Crear sesión\n                </button>\n              </form>\n            )}\n\n            <ul>\n              {sessions.map(s => (\n                <li key={s.id}\n                  className=\"bg-white p-3 mb-2 rounded shadow flex justify-between\">\n                  <span>\n                    {s.movie.title} — {s.room.name} — {formatDateTime(s.dateTime)}\n                  </span>\n\n                  {currentUser.role === \"ADMIN\" && (\n                    <button\n                      className=\"bg-red-500 text-white px-3 py-1 rounded\"\n                      onClick={() => {\n                        if (!window.confirm(\"¿Eliminar sesión?\")) return;\n                        fetch(`http://localhost:8080/api/sessions/${s.id}`, {\n                          method: \"DELETE\"\n                        }).then(() =>\n                          setSessions(sessions.filter(x => x.id !== s.id))\n                        );\n                      }}\n                    >\n                      Eliminar\n                    </button>\n                  )}\n                </li>\n              ))}\n            </ul>\n          </>\n        )}\n\n        {/* ===== TICKETS ===== */}\n        {section === \"TICKETS\" && (\n          <>\n            <h2 className=\"text-2xl font-bold mb-4\">Comprar entrada</h2>\n\n            <select className=\"border p-2 mb-4\"\n              value={selectedSession?.id || \"\"}\n              onChange={e => {\n                const session = sessions.find(s => s.id === Number(e.target.value));\n                setSelectedSession(session);\n                fetch(`http://localhost:8080/api/tickets/session/${session.id}`)\n                  .then(r => r.json())\n                  .then(data => setTakenSeats(data.map(t => t.seatNumber)));\n              }}>\n              <option value=\"\">Selecciona sesión</option>\n              {sessions.map(s => (\n                <option key={s.id} value={s.id}>\n                  {s.movie.title} - {formatDateTime(s.dateTime)}\n                </option>\n              ))}\n            </select>\n\n            {selectedSession && (\n              <div className=\"grid grid-cols-10 gap-2 max-w-md\">\n                {Array.from(\n                  { length: selectedSession.room.totalSeats },\n                  (_, i) => i + 1\n                ).map(seat => (\n                  <button key={seat}\n                    disabled={takenSeats.includes(seat)}\n                    className={`p-2 rounded text-white ${\n                      takenSeats.includes(seat)\n                        ? \"bg-red-500 cursor-not-allowed\"\n                        : \"bg-green-600\"\n                    }`}\n                    onClick={() => {\n                      fetch(\n                        `http://localhost:8080/api/tickets?sessionId=${selectedSession.id}&seatNumber=${seat}&username=${currentUser.username}`,\n                        { method: \"POST\" }\n                      ).then(() => {\n                        alert(\"Entrada comprada\");\n                        setTakenSeats([...takenSeats, seat]);\n                      });\n                    }}>\n                    {seat}\n                  </button>\n                ))}\n              </div>\n            )}\n          </>\n        )}\n\n{/* ===== STAR WARS ===== */}\n{section === \"STARWARS\" && (\n  <>\n    <h2 className=\"text-2xl font-bold mb-4\">Campaña Star Wars</h2>\n\n    <button\n      className=\"bg-yellow-500 text-black px-4 py-2 rounded mb-4\"\n      onClick={() => {\n        setLoadingSw(true);\n        fetch(\"http://localhost:8080/api/swapi/movies\")\n  .then(r => r.json())\n  .then(data => {\n    console.log(\"SWAPI DATA PARSED:\", data);\n    setSwMovies(Array.isArray(data) ? data : []);\n    setLoadingSw(false);\n  })\n  .catch(err => {\n    console.error(err);\n    setSwMovies([]);\n    setLoadingSw(false);\n  });\n\n      }}\n    >\n      Cargar películas de Star Wars\n    </button>\n\n    {loadingSw && <p>Cargando películas...</p>}\n\n    <ul>\n      {Array.isArray(swMovies) && swMovies.map(movie => (\n        <li\n          key={movie.title}\n          className=\"bg-white p-3 mb-2 rounded shadow flex justify-between items-center\"\n        >\n          <div className=\"flex items-center gap-4\">\n  <img\n    src={`https://starwars-visualguide.com/assets/img/films/${movie.episode_id}.jpg`}\n    alt={movie.title}\n    className=\"w-20 h-28 object-cover rounded\"\n  />\n\n  <div>\n    <p className=\"font-bold\">{movie.title}</p>\n    <p className=\"text-sm text-gray-600\">\n      Estreno: {movie.release_date}\n    </p>\n  </div>\n</div>\n\n          <button\n  disabled={movieExists(movie.title)}\n  className={`px-3 py-1 rounded text-white ${\n    movieExists(movie.title)\n      ? \"bg-gray-400 cursor-not-allowed\"\n      : \"bg-blue-600 hover:bg-blue-700\"\n  }`}\n  onClick={() => {\n    fetch(\"http://localhost:8080/api/swapi/import\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(movie)\n    })\n      .then(res => {\n        if (!res.ok) throw new Error(\"La película ya existe\");\n      })\n      .then(() => {\n        alert(\"Película importada a CineVerse\");\n        fetch(\"http://localhost:8080/api/movies\")\n          .then(r => r.json())\n          .then(setMovies);\n      })\n      .catch(err => alert(err.message));\n  }}\n>\n  {movieExists(movie.title) ? \"Ya importada\" : \"Importar\"}\n</button>\n        </li>\n      ))}\n    </ul>\n  </>\n)}\n\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}